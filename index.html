<html>
<head>
<style>
table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  background-color: #dddddd;
}
</style>
</head>
<body>
<div id="nextAr">
 <table id="nextArTable">
  <tr>
   <td colspan="6">Next Arrival:</td>
   <td></td>
  </tr>
  <tr>
   <td style="width: 10%;">ID</td>
   <td style="width: 10%;">Type</td>
   <td style="width: 30%;">Name</td>
   <td style="width: 10%;">Status</td>
   <td style="width: 10%;">Appear date</td>
   <td style="width: 10%;">Last update</td>
  </tr>
 </table>
</div>

<div id="upcoming">
 <table id="upcomingTable">
  <tr>
   <td colspan="6">Upcoming:</td>
   <td></td>
  </tr>
  <tr>
   <td style="width: 10%;">ID</td>
   <td style="width: 10%;">Type</td>
   <td style="width: 30%;">Name</td>
   <td style="width: 10%;">Status</td>
   <td style="width: 10%;">Appear date</td>
   <td style="width: 10%;">Last update</td>
  </tr>
 </table>
</div>

<div id="inProd">
 <table id="inProdTable">
  <tr>
   <td colspan="6">In Production:</td>
   <td></td>
  </tr>
  <tr>
   <td style="width: 10%;">ID</td>
   <td style="width: 10%;">Type</td>
   <td style="width: 30%;">Name</td>
   <td style="width: 10%;">Status</td>
   <td style="width: 10%;">Appear date</td>
   <td style="width: 10%;">Last update</td>
  </tr>
 </table>
</div>

<div id="inPlan">
 <table id="inPlanTable">
  <tr>
   <td colspan="6">In Planning:</td>
   <td></td>
  </tr>
  <tr>
   <td style="width: 10%;">ID</td>
   <td style="width: 10%;">Type</td>
   <td style="width: 30%;">Name</td>
   <td style="width: 10%;">Status</td>
   <td style="width: 10%;">Appear date</td>
   <td style="width: 10%;">Last update</td>
  </tr>
 </table>
</div>

<div id="rel">
 <table id="relTable">
  <tr>
   <td colspan="6">Released:</td>
   <td></td>
  </tr>
  <tr>
   <td style="width: 10%;">ID</td>
   <td style="width: 10%;">Type</td>
   <td style="width: 30%;">Name</td>
   <td style="width: 10%;">Status</td>
   <td style="width: 10%;">Appear date</td>
   <td style="width: 10%;">Last update</td>
  </tr>
 </table>
</div>

<div id="can">
 <table id="canTable">
  <tr>
   <td colspan="6">Canceled:</td>
   <td></td>
  </tr>
  <tr>
   <td style="width: 10%;">ID</td>
   <td style="width: 10%;">Type</td>
   <td style="width: 30%;">Name</td>
   <td style="width: 10%;">Status</td>
   <td style="width: 10%;">Appear date</td>
   <td style="width: 10%;">Last update</td>
  </tr>
 </table>
</div>
<script>
 async function createTable() {
  var data = await fetch("https://raw.githubusercontent.com/MrAsieru/TSWRoadmapTracker/master/data.json").then((response) => {return response.json()});
  var proj = data.Projects;
  console.log(data.Projects);
  
  document.getElementById("nextArTable").style.wordWrap = "break-word";
  document.getElementById("upcomingTable").style.wordWrap = "break-word";
  document.getElementById("inProdTable").style.wordWrap = "break-word";
  document.getElementById("inPlanTable").style.wordWrap = "break-word";
  document.getElementById("relTable").style.wordWrap = "break-word";
  document.getElementById("canTable").style.wordWrap = "break-word";
  for (var i in proj){
   var table = selectTable(proj[i].timeline.status[proj[i].timeline.status.length - 1]);
   var row = table.insertRow();
   var id = row.insertCell();
   id.innerHTML = proj[i].id;
   var type = row.insertCell();
   type.innerHTML = setTypeColor(proj[i].type);
   var name = row.insertCell();
   name.innerHTML = proj[i].name;
   var status = row.insertCell();
   status.innerHTML = setTypeColor(proj[i].timeline.status[proj[i].timeline.status.length - 1]);
   var appDate = row.insertCell();
   appDate.innerHTML = proj[i].timeline.dates[0];
   var lastUpd = row.insertCell();
   lastUpd.innerHTML = proj[i].timeline.dates[proj[i].timeline.dates.length - 1];
  }
 }
 function setTypeColor(type){
  var result,start = "";
  switch(type) {
   case "Preserved Collection":
   start = '<p style="background-color:LimeGreen;">';
   break;
   case "Route Add-On":
   start = '<p style="background-color:Orange;">';
   break;
   case "Loco Add-On":
   start = '<p style="background-color:LightBlue;">';
   break;
   case "Upgrade":
   start = '<p style="background-color:Tomato;">';
   break;
   case "Feature":
   start = '<p style="background-color:Blue;">';
   break;
   case "Fix":
   start = '<p style="background-color:Purple;">';
   break;
   case "Route Upgrade":
   start = '<p style="background-color:Olive;">';
   break;
   case "Released":
   start = '<p style="background-color:Magenta;">';
   break;
  }
  return (start+type+"</p>")
 }

 function selectTable(status){
  var result = "";
  switch(status) {
   case "Next Arrival":
   result = "nextArTable";
   break;
   case "Upcoming":
   result = "upcomingTable";
   break;
   case "In Production":
   result = "inProdTable";
   break;
   case "In Planning":
   result = "inPlanTable";
   break;
   case "Released":
   result = "relTable";
   break;
   case "Canceled":
   result = "canTable";
   break;
  }
  return document.getElementById(result);
 }
 createTable();
</script>
</body>
</html>